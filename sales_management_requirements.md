# 영업사원 관리 프로그램 요구사항 명세서

## 1. 프로젝트 개요

### 1.1 목적
리뷰 작성 서비스 영업사원들의 판매 실적과 수수료를 체계적으로 관리하는 웹 기반 프로그램 개발

### 1.2 핵심 기능
- 영업사원 등록 및 관리
- 판매 실적 입력 및 조회
- 수수료 자동 계산
- 월별 통계 및 리포트

---

## 2. 비즈니스 로직

### 2.1 상품 정보

| 상품명 | 기간 | 리뷰 수 | 판매가 | 원가 | 개당 단가 |
|--------|------|---------|---------|------|-----------|
| 베이직 플랜 | 1개월 | 60개 | 210,000원 | 90,000원 | 3,500원 |
| 스탠다드 플랜 | 2개월 | 150개 | 480,000원 | 225,000원 | 3,200원 |
| 프리미엄 플랜 | 3개월 | 300개 | 900,000원 | 450,000원 | 3,000원 |
| 익스프레스 플랜 | 2주 | 50개 | 200,000원 | 75,000원 | 4,000원 |
| 엔터프라이즈 플랜 | 6개월 | 500개 | 1,400,000원 | 750,000원 | 2,800원 |

### 2.2 수수료 계산 규칙

#### 기본 수수료
- 판매금액의 **25%**

#### 추가 인센티브
- 월 판매금액이 **5,000,000원 초과** 시
- 총 판매금액의 **5%** 추가 지급
- 실효 수수료율: **30%**

#### 계산 공식
```
기본 수수료 = 월 총 판매금액 × 0.25

추가 인센티브 = IF(월 총 판매금액 > 5,000,000) {
    월 총 판매금액 × 0.05
} ELSE {
    0
}

최종 지급액 = 기본 수수료 + 추가 인센티브
```

### 2.3 회사 마진 계산
```
총 원가 = Σ(판매된 상품별 원가)
총 마진 = 월 총 판매금액 - 총 원가
회사 마진 = 총 마진 - 영업사원 최종 지급액
```

---

## 3. 기능 요구사항

### 3.1 영업사원 관리

#### 3.1.1 사원 등록
**입력 필드:**
- 사원명 (필수)
- 사원 코드 (자동 생성 또는 수동 입력)
- 연락처 (필수)
- 이메일
- 입사일
- 상태 (재직/퇴사)

**기능:**
- 신규 사원 등록
- 사원 정보 수정
- 사원 삭제 (실적이 없는 경우만)
- 사원 상태 변경 (재직 ↔ 퇴사)

#### 3.1.2 사원 목록 조회
- 전체 사원 리스트
- 재직 중인 사원만 필터링
- 사원명/코드로 검색

---

### 3.2 판매 실적 관리

#### 3.2.1 판매 입력
**입력 정보:**
- 사원 선택 (드롭다운)
- 판매일자 (날짜 선택)
- 상품 선택 (드롭다운)
- 수량 (기본값: 1)
- 고객명 (선택)
- 비고

**자동 계산 항목:**
- 판매금액 (상품 단가 × 수량)
- 원가 (상품별 원가 × 수량)

**기능:**
- 판매 내역 등록
- 판매 내역 수정
- 판매 내역 삭제
- 대량 등록 (CSV 업로드)

#### 3.2.2 판매 내역 조회
**필터 옵션:**
- 기간 선택 (시작일 ~ 종료일)
- 사원 선택
- 상품 선택
- 정렬 (최신순/과거순/금액순)

**표시 정보:**
- 판매일자
- 사원명
- 상품명
- 수량
- 판매금액
- 고객명
- 비고

---

### 3.3 수수료 계산 및 조회

#### 3.3.1 월별 수수료 조회
**입력:**
- 연도-월 선택
- 사원 선택 (전체/개별)

**출력 정보 (사원별):**
- 사원명
- 월 총 판매금액
- 판매 건수
- 상품별 판매 내역
- 총 원가
- 기본 수수료 (25%)
- 추가 인센티브 (5% 여부)
- 최종 지급액
- 목표 달성 여부 (5백만원 기준)

#### 3.3.2 수수료 지급 관리
**기능:**
- 월별 수수료 확정
- 지급 완료 체크
- 지급일 기록
- 지급 내역 출력 (PDF/Excel)

---

### 3.4 통계 및 리포트

#### 3.4.1 대시보드
**전체 통계 (당월 기준):**
- 총 매출액
- 총 원가
- 총 마진
- 영업사원 수수료 총액
- 회사 순마진
- 평균 객단가
- 베스트셀러 상품

**사원별 랭킹:**
- 매출 순위 Top 5
- 판매 건수 순위
- 목표 달성률

#### 3.4.2 월별/연도별 리포트
**비교 분석:**
- 월별 매출 추이 (그래프)
- 상품별 판매 비율 (파이 차트)
- 사원별 성과 비교 (막대 그래프)
- 전월 대비 증감률

---

## 4. 기술 요구사항

### 4.1 프론트엔드
- **프레임워크:** React 
- **UI 라이브러리:**  Tailwind CSS
- **차트:** Chart.js 또는 Recharts
- **날짜 처리:** date-fns 또는 dayjs

### 4.2 백엔드
- 
- **옵션 2:** Python + FastAPI
- **데이터베이스:** supabase

### 4.3 주요 라이브러리
- **데이터 검증:** Joi 또는 Yup
- **PDF 생성:** jsPDF 또는 pdfmake
- **Excel 생성:** xlsx 또는 exceljs
- **날짜 처리:** moment.js 또는 dayjs

---

## 5. 데이터베이스 스키마

### 5.1 테이블 구조

#### employees (사원)
```sql
id: INTEGER PRIMARY KEY
employee_code: VARCHAR(20) UNIQUE
name: VARCHAR(100) NOT NULL
phone: VARCHAR(20) NOT NULL
email: VARCHAR(100)
hire_date: DATE
status: VARCHAR(20) DEFAULT 'active' -- active/inactive
created_at: TIMESTAMP
updated_at: TIMESTAMP
```

#### products (상품)
```sql
id: INTEGER PRIMARY KEY
name: VARCHAR(100) NOT NULL
period: VARCHAR(50)
review_count: INTEGER
price: INTEGER NOT NULL
cost: INTEGER NOT NULL
unit_price: INTEGER
created_at: TIMESTAMP
```

#### sales (판매)
```sql
id: INTEGER PRIMARY KEY
employee_id: INTEGER FOREIGN KEY
product_id: INTEGER FOREIGN KEY
sale_date: DATE NOT NULL
quantity: INTEGER DEFAULT 1
customer_name: VARCHAR(100)
note: TEXT
created_at: TIMESTAMP
updated_at: TIMESTAMP
```

#### commissions (수수료)
```sql
id: INTEGER PRIMARY KEY
employee_id: INTEGER FOREIGN KEY
year_month: VARCHAR(7) -- YYYY-MM
total_sales: INTEGER
total_cost: INTEGER
base_commission: INTEGER -- 25%
bonus_commission: INTEGER -- 5%
total_commission: INTEGER
is_paid: BOOLEAN DEFAULT FALSE
paid_date: DATE
created_at: TIMESTAMP
```

---

## 6. 화면 구성

### 6.1 메인 레이아웃
```
┌─────────────────────────────────────────┐
│  Header (로고, 사용자명, 로그아웃)       │
├──────────┬──────────────────────────────┤
│          │                              │
│  사이드  │                              │
│  바      │         메인 컨텐츠          │
│          │                              │
│  - 대시보드│                              │
│  - 사원관리│                              │
│  - 판매관리│                              │
│  - 수수료  │                              │
│  - 통계    │                              │
│          │                              │
└──────────┴──────────────────────────────┘
```

### 6.2 주요 페이지

#### 6.2.1 대시보드
- 당월 핵심 지표 (카드 형태)
- 매출 추이 그래프
- 사원별 성과 차트
- 최근 판매 내역 (최근 10건)

#### 6.2.2 사원 관리
- 사원 목록 테이블
- 신규 사원 등록 버튼 → 모달
- 각 행에 수정/삭제 버튼
- 검색 및 필터 기능

#### 6.2.3 판매 관리
- 판매 내역 테이블
- 신규 판매 등록 버튼 → 모달
- 기간/사원/상품 필터
- CSV 업로드 버튼
- Excel 다운로드 버튼

#### 6.2.4 수수료 관리
- 연월 선택 드롭다운
- 사원별 수수료 테이블
  - 사원명
  - 총 판매액
  - 판매 건수
  - 기본 수수료
  - 추가 인센티브
  - 최종 지급액
  - 지급 완료 체크박스
- 전체 지급 처리 버튼
- PDF/Excel 출력 버튼

#### 6.2.5 통계
- 기간 선택 (월별/연도별)
- 매출 추이 라인 차트
- 상품별 판매 비율 파이 차트
- 사원별 성과 비교 막대 차트
- 상세 데이터 테이블

---

## 7. 사용자 시나리오

### 7.1 신규 사원 등록
1. 사이드바에서 "사원 관리" 클릭
2. "신규 사원 등록" 버튼 클릭
3. 모달에서 사원 정보 입력
4. "저장" 버튼 클릭
5. 사원 목록에 자동 추가

### 7.2 판매 내역 입력
1. 사이드바에서 "판매 관리" 클릭
2. "신규 판매 등록" 버튼 클릭
3. 모달에서 정보 입력:
   - 사원 선택 (드롭다운)
   - 판매일자 선택
   - 상품 선택 (드롭다운)
   - 수량 입력
   - 고객명 입력 (선택)
4. 판매금액 자동 계산 표시
5. "저장" 버튼 클릭

### 7.3 월별 수수료 확인 및 지급
1. 사이드바에서 "수수료" 클릭
2. 연월 선택 (예: 2025-10)
3. 사원별 수수료 자동 계산 표시
   - 5백만원 초과 시 "목표 달성 ✅" 표시
   - 추가 인센티브 금액 강조
4. 지급 완료 체크박스 체크
5. "지급 내역 출력" 버튼으로 PDF 생성

### 7.4 대시보드 확인
1. 로그인 후 자동으로 대시보드 표시
2. 당월 핵심 지표 한눈에 확인
3. 실시간 매출 추이 그래프 확인
4. 성과 우수 사원 확인

---

## 8. 추가 기능 (선택사항)

### 8.1 우선순위 높음
- **사용자 인증:** 로그인/로그아웃 기능
- **권한 관리:** 관리자/일반 사용자 구분
- **데이터 백업:** 자동 백업 기능

### 8.2 우선순위 중간
- **알림 기능:** 
  - 목표 달성 시 알림
  - 미지급 수수료 알림
- **검색 기능:** 전역 검색
- **다크 모드:** UI 테마 변경

### 8.3 우선순위 낮음
- **모바일 반응형:** 모바일 최적화
- **실시간 업데이트:** WebSocket 연동
- **API 연동:** 외부 시스템 연동

---

## 9. 개발 단계

### Phase 1: 기본 구조 (1주차)
- 프로젝트 초기 설정
- 데이터베이스 설계 및 구현
- 기본 UI 레이아웃

### Phase 2: 핵심 기능 (2주차)
- 사원 관리 CRUD
- 판매 관리 CRUD
- 수수료 계산 로직

### Phase 3: 통계 및 리포트 (3주차)
- 대시보드 구현
- 차트 및 그래프
- PDF/Excel 출력

### Phase 4: 테스트 및 배포 (4주차)
- 기능 테스트
- 버그 수정
- 배포 준비

---

## 10. 테스트 데이터

### 10.1 샘플 사원 (5명)
```json
[
  {
    "name": "김영업",
    "employee_code": "EMP001",
    "phone": "010-1234-5678",
    "email": "kim@company.com",
    "hire_date": "2025-01-01",
    "status": "active"
  },
  {
    "name": "이마케팅",
    "employee_code": "EMP002",
    "phone": "010-2345-6789",
    "email": "lee@company.com",
    "hire_date": "2025-02-01",
    "status": "active"
  },
  {
    "name": "박세일즈",
    "employee_code": "EMP003",
    "phone": "010-3456-7890",
    "email": "park@company.com",
    "hire_date": "2025-03-01",
    "status": "active"
  },
  {
    "name": "최영업왕",
    "employee_code": "EMP004",
    "phone": "010-4567-8901",
    "email": "choi@company.com",
    "hire_date": "2025-04-01",
    "status": "active"
  },
  {
    "name": "정신입",
    "employee_code": "EMP005",
    "phone": "010-5678-9012",
    "email": "jung@company.com",
    "hire_date": "2025-09-01",
    "status": "active"
  }
]
```

### 10.2 샘플 판매 데이터 (10월)
```json
[
  {
    "employee_code": "EMP001",
    "product": "베이직 플랜",
    "quantity": 8,
    "sale_date": "2025-10-05"
  },
  {
    "employee_code": "EMP001",
    "product": "스탠다드 플랜",
    "quantity": 6,
    "sale_date": "2025-10-12"
  },
  {
    "employee_code": "EMP002",
    "product": "프리미엄 플랜",
    "quantity": 5,
    "sale_date": "2025-10-03"
  },
  {
    "employee_code": "EMP003",
    "product": "익스프레스 플랜",
    "quantity": 10,
    "sale_date": "2025-10-08"
  },
  {
    "employee_code": "EMP004",
    "product": "엔터프라이즈 플랜",
    "quantity": 2,
    "sale_date": "2025-10-15"
  }
]



